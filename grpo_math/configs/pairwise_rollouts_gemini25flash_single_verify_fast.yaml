seed: 1234
debug_timing: true

pairwise:
  num_questions: 10
  max_pairs_per_question: 0
  elo_k_factor: 24.0
  elo_initial_rating: 1000.0

generator:
  api_provider: "openai"
  api_model: "gemini-2.5-flash"
  api_base_url: "https://generativelanguage.googleapis.com/v1beta/openai"
  api_key_env: "GEMINI_API_KEY"
  api_reasoning_effort: "none"
  api_max_tokens_param: "max_tokens"
  api_timeout_s: 90
  api_min_interval_s: 0.0
  api_max_retries: 8
  api_backoff_initial_s: 0.5
  api_max_parallel: 100
  use_chat_template: false
  enable_thinking: false
  prompt_template_path: "grpo_math/prompts/question_generator_prompt.txt"
  temperature: 0.7
  top_p: 0.9
  max_new_tokens: 512
  batch_size: 1
  max_retries_per_question: 20

solver:
  api_provider: "openai"
  api_model: "gemini-2.5-flash"
  api_base_url: "https://generativelanguage.googleapis.com/v1beta/openai"
  api_key_env: "GEMINI_API_KEY"
  api_reasoning_effort: "none"
  api_max_tokens_param: "max_tokens"
  api_timeout_s: 90
  api_min_interval_s: 0.0
  api_max_retries: 8
  api_backoff_initial_s: 0.5
  api_max_parallel: 100
  use_chat_template: false
  enable_thinking: false
  num_solutions_per_question: 10
  sampling_groups:
    - count: 10
      temperature: 1.0
      top_p: 0.95
  prompt_template: |
    Question:
    {question}

    Solve briefly in plain text (no markdown, no bullet lists).
    Keep reasoning to at most 5 short lines.
    The final answer must be an integer.
    You must end with this exact line:
    FINAL_ANSWER: <integer>
  temperature: 1.0
  top_p: 0.95
  max_new_tokens: 1600
  batch_size: 1
  batch_across_questions: true

judge:
  mode: "single_verify"
  batch_verify_all_solutions: false
  verify_prompt_template_path: "grpo_math/prompts/single_solution_verify_prompt.txt"
  verify_prompt_template: |
    You are a strict math verifier.
    Determine whether the candidate final integer answer is mathematically correct.
    You may use the candidate solution text to check the claim.

    Question:
    {question}

    Candidate final answer:
    {candidate_answer}

    Candidate solution (for context/checking):
    {solution}

    Output exactly one token:
    TRUE
    or
    FALSE
  verify_batch_prompt_template: |
    You are a strict math verifier.
    For each candidate answer, decide if it is mathematically correct for the question.
    Output exactly one line per solution in this exact format:
    SOLUTION_<index>: TRUE|FALSE

    Question:
    {question}

    Candidate answers:
    {candidate_answers_block}

  api_provider: "openai"
  api_model: "gemini-2.5-flash"
  api_base_url: "https://generativelanguage.googleapis.com/v1beta/openai"
  api_key_env: "GEMINI_API_KEY"
  api_reasoning_effort: "none"
  api_max_tokens_param: "max_tokens"
  api_timeout_s: 90
  api_min_interval_s: 0.0
  api_max_retries: 8
  api_backoff_initial_s: 0.5
  api_max_parallel: 100
  use_chat_template: false
  enable_thinking: false
  prompt_template_path: "grpo_math/prompts/pairwise_judge_prompt.txt"
  repeats_per_pair: 1
  repeats_per_solution: 1
  temperature: 0.0
  top_p: 0.9
  max_new_tokens: 128
  batch_size: 1

output:
  include_judge_traces: false
  jsonl_path: "outputs/pairwise_rollouts_debug/samples_gemini25flash_single_verify_fast.jsonl"
  write_mode: "overwrite"

strong_verifier:
  enabled: true
  provider: "openai"
  model: "gpt-5.2"
  base_url: "https://api.openai.com/v1"
  timeout_s: 60
